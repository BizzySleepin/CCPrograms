-- API

function downloadFile2(url, path, name, m)
        if not fs.exists(path) then fs.makeDir(path) end
        if m == "r" then 
          if fs.exists(path .. "/" .. name) then
            shell.run("delete "..path.."/"..name)
            sleep(20)
            local content = http.get(url)
            local file = fs.open(path .. "/" .. name,"w")
            file.write(content.readAll())
            file.close()
          else
          	local content = http.get(url)
            local file = fs.open(path .. "/" .. name,"w")
            file.write(content.readAll())
            file.close()
          end
        end
        if m == nil then 
          if not fs.exists(path .. "/" .. name) then
            local content = http.get(url)
            local file = fs.open(path .. "/" .. name,"w")
            file.write(content.readAll())
            file.close()
          end
        end 
end

function downloadFile(url, path, m)
        if m == "r" then 
          if fs.exists(path) then
            shell.run("delete "..path)
            local content = http.get(url)
            local file = assert(io.open(path, "w"))
            file:write(content.realAll())
            file:close()
          else
            local content = http.get(url)
            local file = assert(io.open(path, "w"))
            file:write(content.realAll())
            file:close()
          end
        end
        if m == nil then 
          if not fs.exists(path) then
            local content = http.get(url)
            local file = assert(io.open(path, "w"))
            file:write(content.realAll())
            file:close()
          end
        end 
end